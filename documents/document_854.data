U1BP42MRS : Do you control the server side code?
U63CJP83X : Do you mean the website where I post the ads or the machine where my script runs?
U63CJP83X : Script runs on my OSX, website is not mine, so no access.
U1BP42MRS : And you want to store the photos from the client machine in a different folder, or the server?
U63CJP83X : On my machine, at the moment, at the same folder as my python script, and I want to store the photos in a subfolder.
U1BP42MRS : Oh, okay. Yeah, you should be able to just move them and `os.path.join`
U63CJP83X : great, I will try now ...
U5RJNFFGX : <@U1BP42MRS> you've used the undocumented Slack method `setInactive` right? It says here that this method doesn't work on the free tier. Is this true?
U1BP42MRS : I've not used that one, sorry :(
U5RJNFFGX : Thanks :))
U36LXGMHP : Hello all, I am looking for some help with python syntax...trying to run a module for salt <https://github.com/cedwards/saltstack-fim-module/blob/master/fim.py> but  I am getting the following syntax error ```
  File "fim.py", line 133
    return 'FIM data rotated.'
SyntaxError: 'return' outside function
```
Anyone know what could that be?

U5LNXQHN3 : It looks fine to me, but double-check the whitespace and line endings, because the interpreter might be getting confused
U2Q2LMZ6D : Hi folks, i'm having a bunch of jobs, detail data of the job is stored in db. I want to create a pool, to process those jobs, after finished one, add a new one to the pool. My question is, do we have any lib to support that pattern? Or I have to write pool, queue logic, and a While loop to push into queue? I'm using python 2.7. Thanks
U5NMSURAQ : concurrent.futures for python 3
U5NMSURAQ : take a look at the docs, it's very easy :slightly_smiling_face:and maybe you'll reconsider using legacy python

U5LNXQHN3 : (but `futures` is backported to 2.7 as well :wink: )
U5NMSURAQ : ugh, you're not supposed to tell!
U2Q2LMZ6D : ... Thanks, I'll try it
U5LNXQHN3 : 2.7 for life! (Or at least until I start a new project.)
U2Q2LMZ6D : umm, I have questions1. about `map` vs `as_completed`, if I dont care for the result order, I should use `as_completed` right?
2. If I use `map`, then even my 2nd job finished earlier than the 1st, my executor still wait for the 1st to finished then push new job to the executor?

U36LXGMHP : <@U5LNXQHN3>  I am thinking it might be due to missing dependencies for the `checksum` def. But I am not sure how to check that as the logs dont help much
U5NMSURAQ : <@U2Q2LMZ6D> jobs are pushed when a pool isn't completely full
U5NMSURAQ : Take a look: <https://pymotw.com/3/concurrent.futures/>
U5NMSURAQ : There you can see better (almost real-life) examples.
U5LNXQHN3 : <@U36LXGMHP> Missing dependencies in Python don't cause syntax errors
U28MDQRL2 : Anyone knows how to set an script to run every 2nd sunday in a month ?
U29163YQH : linux/mac/windows ?
U28MDQRL2 : Linux. I'm using crontabs on django-beat
U28MDQRL2 : I haven't found a way to do that using a crontab
U29163YQH : there must be :stuck_out_tongue:
U28MDQRL2 : I have seen some hacking with bash but i think i don't have that available
U28MDQRL2 : just a plain crontab
U5NMSURAQ : don't have shell? how?
U29163YQH : <https://stackoverflow.com/questions/11683387/run-every-2nd-and-4th-saturday-of-the-month>
U29163YQH : it seems you need a small bash script indeed
U28MDQRL2 : The crontab is ran by a scheduler built with on top of celery. Introducing the equivalent to the bash script will involve too much hacking i think
U28MDQRL2 : meh. I'll just run the script every sunday (well they are celery tasks). And have the task checking if it's on the week that i want
U29163YQH : that should be the easiest
U28MDQRL2 : I saw that the weekdays and the day of the month are an `or` proposition on crontabs
U29163YQH : I imiagne you could also run it only between the 7 and the 14 and only check if it's sunday
U29163YQH : more like 7 - 13 :stuck_out_tongue:
U28MDQRL2 : That too. Or run it every sunday and check if it's between 7 and 14. I think this option will run less unnecessary times. There isn't much load on the system that i'm building so it doesn't matter
U28MDQRL2 : :taco: <@U29163YQH>
U29163YQH : woot thanks
U0L8Y8ZEW : :point_up:
U3NRC6V32 : What's wrong with the following substring in my SQLite Create Table command?
&gt; 24h_volume_usd

U3NRC6V32 : Turns out columns cannot start with numbers. To anyone else curious
U5VGKQ2SY : Beat me to it... I suspected it, but was actually googling to confirm that
U3NRC6V32 : haha i'm very unexperienced with SQL, so I just assumed it was allowed
U3NRC6V32 : the error wasn't particularly specific but whatever, thanks anyways khdc
U621GSYUA : For questions on getting some of the community projects up and running, would this be the right place to ask (or the <#C2FMLUBEU|community_projects> channel)? Have some questions about configuration for setting up the website in development -- just don't want to clutter the projects channel. :slightly_smiling_face:
U29163YQH : it's best to ask in <#C2FMLUBEU|community_projects> <@U621GSYUA> <@U1BP42MRS> (who is the main dev for the website atm) might miss it here
U1BP42MRS : Feel free to join us over in <#C2FMLUBEU|community_projects> :)  sorry, was off biking and grilling today!
U63MMCP2P : Hi peeps. What is the most state-of-art machine learning technique or research project on learning langauge?
U63MMCP2P : *language (clearly i have a reason for my research)
U5LNXQHN3 : What do you mean by 'learning language'? This is a VERY wide field
U5LNXQHN3 : Are you familiar with word2vec? It's not the 'most' state of the art but it represented a big step forward a few years ago and is widely used
U5LNXQHN3 : (You might also reach a more specific audience in <#C2J4B66PK|machine_learning> , but there are fewer people there)
U5JF1KD18 : Hello guys, I got a huge problem
U621GSYUA : Cool, thanks! No worries, biking and grilling should always take precedence.
U0LSCQQNR : <@U5JF1KD18> best to say your problem
U5JF1KD18 : OK bro here it comes
U0LSCQQNR : someone will read it and say something, but you need to put your issue out first
U5JF1KD18 : There is a website and a WiFi network. And what i want to do is to automatically connect any person on my WiFi to the website without theme authenticate themselves directly on the website
U5LNXQHN3 : Simple, flippant answer: disable authentication on your website
U5JF1KD18 : No no, that isn't that. Persons on my WiFi can connect themselves but those out of it need to authenticate themselves
U0LSCQQNR : do you have a static IP?
U5JF1KD18 : No, no static IP
U0LSCQQNR : then sorry
U0LSCQQNR : if you had a static IP through your ISP, then you could check the IP address on the incoming request
U0LSCQQNR : and then filter to authentication if necessary
U1BP42MRS : If you're on a Windows domain you can do more, but that's a bit specialized
U47HK8BS8 : can you run custom code on the wifi router?  you might be able to have it regularly send its ip
U47HK8BS8 : when it updates you might have a moment where the site isn't accessible, but it might do the trick.
U5JF1KD18 : My problem now is to authenticate a person from it's IP address since I don't want to change even the website code
U0LSCQQNR : why?
U0LSCQQNR : ok, better step back and describe things in more detail
U0LSCQQNR : because it sounds like you're trying to do some things that are not advisable
U1NSCAY6R : and depending on how secure you want this, IP whitelisting may not be the best bet
U0LSCQQNR : since you can spoof and use VPNs, and more
U5LNXQHN3 : Have the site listen on 2 network interfaces, one inward-facing to your network, one outward-facing to the internet, and the inward facing one can use different auth criteria
U5JF1KD18 : <@U0LSCQQNR> Let me explain it more detailly
U5JF1KD18 : There is a website that I am setting up and i want to grant direct access to persons i a given location that is persons connected to my WiFi. If a person is connected to my WiFi, he can access the website with no problem, but if he is not in my WiFi, he should enter a passcode before proceeding to the site's content
U0LSCQQNR : why?
U0LSCQQNR : why do you want to have such a huge hole in your authentication
U0LSCQQNR : just have them sign in
U0LSCQQNR : and keep a session cookie active for them
U0LSCQQNR : and so when they re-access the site, their login session is still active
U5LNXQHN3 : I've seen this sort of thing done before to facilitate company intranets, and that's done primarily just by virtue of listening on an inward-facing network address. But sometimes there is still extra auth anyway, because it's not a great hardship.
U47HK8BS8 : Is it the case that it's irrelevant *who* the user is that accesses content?  i.e. there is no user data specific to a user?
U5LNXQHN3 : ...also that.
U47HK8BS8 : if it's truly irrelevant who people are, then yeah, I'd combine <@U5LNXQHN3>'s comment with a VPN from the wifi router to the network that second interface is on
U0LSCQQNR : not a bad suggestion
U0LSCQQNR : <@U5JF1KD18> do you have the expertise to do this?
U29163YQH : what's the best way to join on a string x time the same value ?
U29163YQH : like `', '.join('hello' for _ in my_list)`
U29163YQH : But it seems a bit overkill
U295FNW65 : <@U29163YQH>: is there a better way than that?
U0LSCQQNR : `'hello ' * n`
U0LSCQQNR : where `n` is the number of times to repeat
U5U4MSHC1 : But won't it add a space at the end?
U29163YQH : that does each letter <@U0LSCQQNR>
U29163YQH : can do that `('hello',) * n`
U29163YQH : I completly missed your point <@U0LSCQQNR> in fact :smile:
U29163YQH : got it
U0L8Y8ZEW : `('hello, ' * n).strip(', ')`?
U0L8Y8ZEW : I feel the original was good enough tbh
U5U4MSHC1 : Wait. Got it :ok_hand:@ndevox
U29163YQH : I hoped something existed for that. I'll stay with the for loop more readable
U3JGK19NV : Quick side question for my project server
U3JGK19NV : is forcing https everywhere bad?
U3JGK19NV : should i rollback and switch to 1? Not really python but web related, haha
U63H1LZDE : hey, arent you in the sneakerbible? ^
U3JGK19NV : No, I run House of Carts.
U63H1LZDE : Crazzyyyyy haha.
U295FNW65 : woah
U295FNW65 : <@U3JGK19NV> : you looking for extra developers haha
U3JGK19NV : Lol, DM me.
U0NRYQNAZ : House of Carts?
U3JGK19NV : <@U0NRYQNAZ> it's a sneaker group that I run
U1NSCAY6R : “run” :troll:
U1NSCAY6R : we need :dad_pun:
U3JGK19NV : :run:
U3JGK19NV : :laughing:
U1NSCAY6R : is this even legal?
U1BP42MRS : Kind of depends on your locality
U1NSCAY6R : its bots to circumvent/deal with purchasing ASAP, including CAPTCHA breaking
U1NSCAY6R : <@U3JGK19NV> is this what you ask for help with here?
U1BP42MRS : He asked about SSL, I thought - what are you seeing for captcha?
U1NSCAY6R : looked into what house of carts was
U295FNW65 : <@U1NSCAY6R> : it's legal, just breaks site ToS I think
U1BP42MRS : Oh. Yeah, the community is generally against enabling breaking TOS or anything Illegal ¯\_(?)_/¯
U1NSCAY6R : its a big grey area, so, yeah
U3JGK19NV : What? I asked for help with setting up a SSL certificate that has nothing to do with a sneaker group..
U1BP42MRS : I think it's more the soliciting DMs for help and such
U3JGK19NV : Ah, okay. He's the one who asked if I needed a dev, but there's not really a need right now.
U3JGK19NV : No worries though
U1BP42MRS : Okay, generally speaking - the group would prefer to not be used for anything gray-area or illegal, whether DM, public, or private channels
U3JGK19NV : Sure
U606DD1N0 : I am trying to read a .nc file using netCDF4 and get this error (NetCDF: HDF error) I have installed all the prerequisites (<http://unidata.github.io/netcdf4-python/>). is anybody familiar with this error
U65CN0Y6A : recent i study flask - micro web framework. I need some good stuff about flask. Who know the good material about flask?
U29163YQH : you'll have more luck in <#C0LN2AD7T|flask> :slightly_smiling_face:
U5JF1KD18 : <@U0LSCQQNR> I got your suggestions about the VPN
U0L8Y8ZEW : Anyone using GCP here?
U0L8Y8ZEW : Wondering if I can ssh with a service account but can't see any docs anywhere
U4PRU7MPD : So i have a type error issue
U4PRU7MPD : added b ref
U4PRU7MPD : I got it thanks all sorry for the bother I needed to talk it out i suppose.
U29163YQH : no problem :slightly_smiling_face: If it's helping you
U4PRU7MPD : I am just getting my feet wet with building stuff out of bits and parts i find and cleaning it up for my use.  I am still quite noob. This slack has pulled me out of the fire many times where i wanted to bang my head into the wall
U07P0EEHM : Question about unit testing and type hinting - is there a simple way to assert that a function call returns a certain type and that there are no other type warnings if return types have already been hinted in the function signature?
U5NMSURAQ : mypy probably
U5NMSURAQ : It's pretty intelligent in type inferring
U07P0EEHM : is it possible to run nosetests with mypy?
U65LJSBL6 : anyone have any recommendations on best ways to test flask api's?  I am writing an api in flask and want to do unittests on it but not sure the best way to do it with flask
U1UFZTD4J : do you want unit tests or integration tests?
U65LJSBL6 : well this is all sorta new to me as far as testing goes I haven't done it much in the past but I want to mainly ensure the code works and get back proper responses, etc
U65LJSBL6 : since its basically a bot
U1UFZTD4J : So there are various levels of testing. If you want a lot of confidence, you should do `end-to-end` testing
U1UFZTD4J : which basically means you spin up your app, then use `requests` to hit the api's and check that they actually work
U1UFZTD4J : an integration test would be just calling the handler, not using http. And a unit test would only check the logic of one function alone, as in, the function where the logic is
U65LJSBL6 : yea basically the end to end is what I want
U65LJSBL6 : take the code spin up the flask app and make calls to the routes to verify they work
U65LJSBL6 : before it deploys the code to heroku, etc
U65LJSBL6 : so this will be a part of my jenkins setup
U65LJSBL6 : I've never done testing in the past lol need to learn how to integrate it into my projects
U1UFZTD4J : Unfortunantly I dont know of any "api testing frameworks" in python
U65LJSBL6 : its more of how do I test flask
U1UFZTD4J : but its really not very hard to just write tests that use requests
U65LJSBL6 : since its a flask app
U1UFZTD4J : and call your app
U65LJSBL6 : yea if thats all it is I guess I can do that
U1UFZTD4J : You also might want to look at: <http://flask.pocoo.org/docs/0.12/testing/>
U1UFZTD4J : or ask more questions in <#C0LN2AD7T|flask>
U65LJSBL6 : I was more curious how I test it and where for example where do I spin up the code and test it or does it just do it all local, etc
U65LJSBL6 : yea I've been looking over that doc
U65LJSBL6 : problem is that one is very db driven and I'm not even using a db yet, just want to test simple flask routes, maybe I'll just go the route of requests
U65LJSBL6 : I'll see what I can find, thanks
U1UFZTD4J : if you dont have a DB then ignore the DB code
U1UFZTD4J : the rest will still work
U65LJSBL6 : yea thats why I'm checking it out just wasn't sure if there was anything else or if this is the only info I've asked in flask too
U65LJSBL6 : didn't realize they had a channel
U0LSCQQNR : code review help: package all html file keys from a S3 bucket with a provided prefix into a list
U0LSCQQNR : so, I have a bunch of websites scraped and archived on S3
U0LSCQQNR : I want to get the key names for the html files only, for indexing in solr
U0LSCQQNR : this is the naive solution, and while it works, I think it could be improved.  Any options?
U5U4MSHC1 : i think you can use map, Not sure if it would improve the code
U1NSCAY6R : could change line 12 to be `for item in page.get('Contents', []):` or whatever empty iterable you want
U1NSCAY6R : saves a line
U5U4MSHC1 : Similarly `if item.get('Key', '').endswith('htm') or item.get('Key', '').endswith('html'):`
U0LSCQQNR : I thought of that
U0LSCQQNR : but feel the readability is so-so
U1NSCAY6R : yeah gets a little overly verbose there
U5U4MSHC1 : Well, I tried :slightly_smiling_face:
U1BP42MRS : I like `any(key.endswith(x) for x in ['html', 'htm']):` so you can arbitrarily add more extensions if you want
U1BP42MRS : but neither is "right" or better
U5U4MSHC1 : I like this one
U0LSCQQNR : alright, thanks
U0LSCQQNR : It was the nested looping and checks that I was unsure about
U0LSCQQNR : wanted to be sure I wasn't missing something more pythonic
U5U4MSHC1 : You never know what Python has up in its sleeve
U1NSCAY6R : <@U0LSCQQNR> now flatten all of the loops into a one-liner
U1BP42MRS : #ProTip - don't
U0LSCQQNR : do that only if you want to be a clever bastard and screw with the people taking over after you :smile:
U1NSCAY6R : generating DELETE statements from a dictionary that came from a csv lol
U0LSCQQNR : :facepalm:
U1NSCAY6R : i flattened it for funsies
U0LSCQQNR : showoff
U0LSCQQNR : :smile:
U1NSCAY6R : it was a one-off script ¯\_(?)_/¯
U1NSCAY6R : the actual code i think is on my other machine
U0LSCQQNR : don't you mean off-by-one?
U0LSCQQNR : :smile:
U1NSCAY6R : don't you mean off-by-one?
U1NSCAY6R : now i want to start an #ugly_code channel
U1NSCAY6R : taking this to <#C07EFN21K|random> before i confuse newcomers
U5JF1KD18 : Hello guys
U5JF1KD18 : How can I implement a Single Sign on system for persons connected to a WiFi
U0LSCQQNR : this the same thing you were asking about the other day?
U4PRU7MPD : <@U5JF1KD18> what kinda of enviroment do you have for wifi.
U4PRU7MPD : <@U5JF1KD18> define single sing on.  To my network ears that sounds like 802.11x
U4PRU7MPD : for your needs
U0LSCQQNR : got a celery question here.
I have a master task, for lack of a better word, that takes in a list of URLs and chunks it up to an appropriate number of sub-tasks to execute for indexing in a solr server

I'd like to be able to record in the model record for that particular instance _how_ many URLs were successfully indexed.  But as the sub-tasks are executing asynchronously, with no feedback to the parent task, I'm having a hard time figuring out how to update the db on completion of the last sub-task.

U0LSCQQNR : Only thing I can think of is for each subtask to increment/update the db record on completion.  Is there a more elegant way to do this with Celery?
U1BP42MRS : I don't think that is too inelegant, but you could have the parent task get all results of the subtasks by polling them and do it that way - not sure it's much more elegant though
U0LSCQQNR : yeah, agreed
U0LSCQQNR : thats about what I was thinking as well
U0LSCQQNR : but its pretty necessary for the parent and child tasks to be on different queues
U5WL5NE9H : Anyone have experience trying to persist CloudSearch/Elasticsearch search results? I am working on a system that maps document ids to search queries so relational data can be added in an RDS. However because documents AND search queries can be edited you need to routinely re-run the search to see if new documents need to be added in the mapping table or delete the outdated ones and the runtime is just going to grow as documents and saved search queries are added.
U1BP42MRS : <@U0LSCQQNR> - I don't think which queue they run on matters for getting a result
U0LSCQQNR : <@U1BP42MRS> I have to think about the queue and workers getting clogged up
U1BP42MRS : yeah, so the master task blocking them will cause issues
U0LSCQQNR : correct
U0LSCQQNR : thus, the different queues
U1BP42MRS : It would only block on 1 worker
U1BP42MRS : But yeah, in that case - DB increment seems like the option
U0LSCQQNR : alright, thanks
U0LSCQQNR : nice to know I'm on the right track :slightly_smiling_face:
U1BP42MRS : <@U13L8J76J> - any other thoughts :point_up::skin-tone-4: ?
U0LSCQQNR : nobody else here uses python or the tools I use, so its good to get confirmation
U0LSCQQNR : he's probably sleeping right now
U0LSCQQNR : but woould be interested in his and <@U1NSCAY6R>'s feedback as well
U1BP42MRS : I thought they had an on-done callback option, but I am not seeing it
U0LSCQQNR : <http://docs.celeryproject.org/en/latest/userguide/tasks.html#on_success>
U0LSCQQNR : that's about the closest, I think
U1NSCAY6R : ill catch up in a few, fire at work
U1NSCAY6R : not a literal fire
U0LSCQQNR : ok, good luck
U0LSCQQNR : need some marshmallows?
U1BP42MRS : literal fire by my mountain house :disappointed: may cancel my bike trip :cry:
U0LSCQQNR : whoops
U0LSCQQNR : colorado
U1NSCAY6R : no its someone using RUBY of all things spamming us with bad requests
U0LSCQQNR : snowbound seven months of the year
U0LSCQQNR : the rest you're bone dry
U0LSCQQNR : <@U1BP42MRS> having fun with Joe's API?
U0LSCQQNR : :smile:
U1BP42MRS : LAWL
U1BP42MRS : Can ruby run fast enough to spam it?
U0LSCQQNR : eventually
U0LSCQQNR : probably not DDOS level of spam though
U0LSCQQNR : like the one that took down kreb's blog
U1BP42MRS : oh yeah, that was crazy
U1BP42MRS : that was the IoT hack, IIRC
U0LSCQQNR : yep
U0LSCQQNR : well, I'm out
U0LSCQQNR : time to get home and head out on the bike for a bit
U0LSCQQNR : good evening/night/morning!
U1NSCAY6R : no ruby cant DDOS aws im sure :stuck_out_tongue:
U1NSCAY6R : we have a really bad customer that spams us a lot with bad requests and they seem to do it scripted and its 400 400 400 400 and they dont handle errors in their scripts so it just keeps going
U1NSCAY6R : :facepalm:
U1NSCAY6R : <@U0LSCQQNR> I was going to suggest `on_success` with a handler to write results to the db
U1NSCAY6R : you could also get the values from calling it e.g.,: ```result = task.apply_async(*args, **kwargs)
result.collect() # after processing is complete this list grows```

U1NSCAY6R : <http://docs.celeryproject.org/en/latest/reference/celery.result.html>
U1NSCAY6R : personally i prefer `on_success`, however i would then make sure that if there is an error that you handle responding with either how many were indexed, or bail the whole indexing out (probably not this because lol solr reindexing speeds)
U1NSCAY6R : or you can consider ANY indexing a “success” and still use `on_success`
U1NSCAY6R : man, i miss my job where i did a ton of celery and solr
U0LSCQQNR : Yeah, I'll probably do that in the master task, combined with polling of the subtasks. When the subtasks complete, the master will finish as well, and then can handle success, failure, etc
U1BP42MRS : Oh so Joe suggests it and now it's okay the master task blocks! table flip /s
U3JGK19NV : Is abort() not a flask function anymore?
U5NMSURAQ : <@U3JGK19NV> it is
U5NMSURAQ : <http://flask.pocoo.org/docs/0.12/api/#flask.abort>


in above conversation, code/s mentioned has issue/s?
	If Yes:
	1.Bad	2.Very bad
	If No:
	1.Good	2.Very good


How confident are you?
	1.Low
	2.Average
	3.High

Optional!
can you highlight place/word/sentence which lead to your decision
