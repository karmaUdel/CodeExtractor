```
that way you don't have to worry about closing
Hey, could I get some quick help from someone? No idea how to explain the situation
Essentially calling a function from another file doesn't seem to work the same when you call it from inside another function
Is there any reason why these two calls would act different?
line 2 vs lines 4-6?
lines 4 through 6 won't execute unless today_posts is called from somewhere.
Yeah, I get that :slightly_smiling_face:
ok
I'm calling the function, but the call on line 6 acts differently
Do you know much about the Telegram API wrapper telebot?
no, so I'll let it go for someone else.
Okay, thanks :slightly_smiling_face:
<@U5NC85SCB>: at a flance the only difference is that `db` and `c` are both scoped outside the context of the function so they could have different values each time it's called
Hmmm okay
Any reason the above wouldn't work?
<@U07JGLLKF>, sorry to tag you :slightly_smiling_face:
that looks legitimate, what behaviours are you seeing?
Essentially the sql doesn't execute, but the function is defo called, I've put print statements everywhere and they all execute
But if I move the sql statement out of the function and hard code args[0] then it all runs
The function is called when the bot recieves a command on Telegram
So the way the wrapper is coded is the only thing I can think of
is the logic that creates the cursor `c` called each time the script runs?
c = db.cursor()
db and c are created once at the start of main.py
<@U5NC85SCB> try putting your `db` and `c` creation inside the `today_posts` method
hi all, I am new (new to this slack and new to python) and have a question that is driving me crazy. could someone help?
Welcome <@U6FNX78AJ> ! Go ahead and ask, someone will be along to help as they're available (no need to ask to ask)
