U1D7SLE4Q : So, I have a Hugo generated static website and I want to use Elm for small interactive pieces here and there in it. I have a separate prototype of these small apps boilerplated with create-elm-app. Now I want to merge it all together in a nice way, but not sure how to set up the whole assets pipeline in a reasonable way. If you have any related experience or suggestions, let’s start a thread!
U17R1GD96 : <@U3SJEDR96> I am trying yo write full decoder. I’m stuck with subscriptions and update. The code is : ```

U17R1GD96 : I also need to rename the original theme_uri to themeUri used in  my Model.
U17R1GD96 : and class to class_
U3SJEDR96 : alright, so, - `port payload : (Model -&gt; msg) -&gt; Sub msg` should be `(Json.Decode.Value -&gt; msg ) -&gt; Sub msg`
- the type of `Payload` is a little wonky, should be `Payload (Result String Model)`
- subscriptions needs to handle the JSON decoding AND hand the function to go from `Value -&gt; Msg` to your subscription itself: `payload (decodeValue payloadDecoder &gt;&gt; Payload)`

U3SJEDR96 : `class` is allowed in elm, btw, no need for an underscore there :slightly_smiling_face:
U17R1GD96 : well, when I extract it I have a conflict with class from Html
U3SJEDR96 : oh, okay
U17R1GD96 : ```subHeaderMenuView : List Subheader -&gt; Html msgsubHeaderMenuView items =
    let
        build : Subheader -&gt; Html msg
        build { class_, url, title } =
            li [ class class_ ]
                [ a [ href url ] [ text title ] ]
    in
    div [ class "sub-menu" ]
        [ ul [ class "flex-grid" ] (List.map build items) ]
```

U3SJEDR96 : either way, your json representation doesn't need to match the elm structure word for word
U17R1GD96 : ```subscriptions : Model -&gt; Sub (Result String Model)subscriptions model =
    payload (Json.Decode.decodeValue payloadDecoder)
```
still some errors for main ```main : Program Never Model Msg
main =
    Html.program
        { init = init
        , view = view
        , update = update
        , subscriptions = subscriptions
        }```

```Function `program` is expecting the argument to be:

    { ..., subscriptions : Model -&gt; Sub Msg }

But it is:

    { ..., subscriptions : Model -&gt; Sub (Result String Model) }```

U3SJEDR96 : yeah, because you removed `&gt;&gt; Payload` :stuck_out_tongue:
U3SJEDR96 : which is the part the says "take the result of the function on the left and apply this function on that; with `Payload : Result String Model -&gt; Msg`
U17R1GD96 : Like this? ```subscriptions : Model -&gt; Sub (Result String Model)subscriptions model =
    payload (Json.Decode.decodeValue payloadDecoder) &gt;&gt; Payload
```

U3SJEDR96 : `payload (Json.Decode.decodeValue payloadDecoder  &gt;&gt; Payload)`
U3SJEDR96 : you could alternatively write that like so: `payload (\json -&gt; Json.Decode.decodeValue payloadDecoder json |&gt; Payload)` if that makes more sense to you :slightly_smiling_face:
U0CLDU8UB : and also, `subscriptions : Model -&gt; Sub Msg`
U17R1GD96 : It’s OK. I understand &gt;&gt;. This has no errors: ```subscriptions : Model -&gt; Sub Msgsubscriptions model =
    payload (Json.Decode.decodeValue payloadDecoder &gt;&gt; Payload)```

U17R1GD96 : My update still does not work. This is wrong: ```update : Msg -&gt; Model -&gt; ( Model, Cmd Msg )update msg model =
    case msg of
        Payload data -&gt;
            { model | themeUri = data.theme_uri }
                ! []```

U17R1GD96 : ````data` does not have a field named `theme_uri`.
67|             { model | themeUri = data.theme_uri }
                                     ^^^^^^^^^^^^^^
The type of `data` is:

    Result String Model```

U17R1GD96 : the same the `{ model | themeUri = data.themeUri }`
U3SJEDR96 : `data` at that point is a `Result String Model` because if someone sends you bad values, you want to handle that somehow, too
U17R1GD96 : yes, just found it may contain errors I have to handle somehow


in above conversation, code/s mentioned has issue/s?
	If Yes:
	1.Bad	2.Very bad
	If No:
	1.Good	2.Very good


How confident are you?
	1.Low
	2.Average
	3.High

Optional!
can you highlight place/word/sentence which lead to your decision
