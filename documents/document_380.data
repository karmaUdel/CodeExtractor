```
guards... that's nostalgic.
I have a question about "filtering" keyboard events <https://ellie-app.com/3KRNszj47Lca1/0>
though I suppose it relates to all kinds of subscriptions
essentially, I'm interested in only two keyboard events, but I'd rather not trigger the update function for any other keypress
That's not possible, at the moment, <@U5W86UED6> - it's a bit of an all-or-nothing situation
<@U3SJEDR96> I realize the performance penalty isn't too bad, but it's more about filtering out information in the debugger
do you have any more context about why it's an all-or-nothing situation? the design decision behind it?
<@U5W86UED6> - it's ok to have that conversation in the channel rather than in a thread :slightly_smiling_face:
as for the `why` - basically you'd need the ability to do something like `(a -&gt; Sub b) -&gt; Sub a -&gt; Sub b` so you could return `Sub.none` to filter them out, but that would have some non-obvious effects, such as the ability to suddenly "add" subscriptions from within a subscription
would that be considered a side effect?
No, it would just be pretty hard to grasp what it would _actually_ do. A subscription is basically just saying "when this happens, execute this function and give the result to `update`". If a subscription could bail out, so to speak, that would make things much more complicated, both in terms of implementation as well as cognitive load for developers
Is this possible in elm somehow: <https://stackoverflow.com/questions/29715655/html-5-input-type-date-disable-keyboard-input>    ???
<@U5WD40ZA9> yes; you can do this using `onWithOptions` from `Html.Events`, though you will need a `NoOp` message
`onWithOptions "keydown" { stopPropagation = True, preventDefault = True } (Json.Decode.succeed NoOp)`
Gotta go now, hope you figure things out :slightly_smiling_face:
<@U3SJEDR96> thanks!
I found some additional information about this on the mailing list, for those interested <https://groups.google.com/forum/#!topic/elm-discuss/u-6aCwaJezo>
If I convert a list to a set in elm, will order be maintained? If not, will order be *not* maintained in the same way if passed the same list?
Sets don't maintain list order. IIRC, they are implemented as search trees, so they should always produce sorted lists.
umm you shouldn't count on a set ever maintaining order
it may, but thats an implementation detail
No, it's documented
<http://package.elm-lang.org/packages/elm-lang/core/5.1.1/Set#toList>
that says nothing about the set, only that the implementation of toList guarantees sorting.
what does it mean for a set to be sorted if not that?
So if I have list [0,1,2] and that becomes set (2,0,1)... if I called set.fromList on [0,1,2] again, would it have a different order?
Because it feels like that breaks statelessness 
the function `toList` guarantees the the output will be sorted
<@U2SR9DL7Q> Elm sets are sorted, all functions that iterate through them do it in sorted order
they do seem to provide that guarantee in their api
but the underying tree implementing the set may look different, have different branching, but that's nothing you can see
Ahhh 
Curious. 
I think it is safe to think of a `Set` is equivalent to a sorted, unique list and should that change it would be documented in the change notes.
The same goes for Dicts, for the keys.
well I would say the api guarantees sorted order access, I wouldn't make any assumptions about how it's implemented (not that you can do anything with those assumptions anyway)
Sure, but for a first-pass conceptual understanding, I think it is fine.
Sets and dicts are sorted at the the level that I interact with them. That... makes sense, in elm. 
The docs just didn't make it clear, and it made me wonder. 
well, you have to look at the documentation for the individual function that you use
FromList doesn't mention sorted or not. Unlike toList 
a set by definition is not ordered
it may use it as an implementation detail
<@U2SR9DL7Q>, sure, but how do you get the values from the set?
but a set is a collection of distinct objects
in fact some sets (with hash table backing) are going to be extremely disorderd
<@U4872964V> you mean from the list? I have a list of values that a becoming a set. But from prior experience, sets aren't necessarily ordered. 
<@U2SR9DL7Q> but what does it mean for you for a set to be ordered or unordered, that's the question. i think this is just a semantic question. Elm sets are ordered in every way that you can use them.
Right now, `Set.foldl` will give you the set elements in order. This is *unlikely* to change, but it might.
and yes, `Set.fromList [1,2,3] == Set.fromList [3,2,1]` and so on
Perhaps more importantly `Set.fromList [1, 2, 3] == Set.fromList [3, 1] |&gt; Set.insert 2`. For this to hold, either the data structures need to be identical or `Set` would need a special implementation of `==`, which I don't see Elm doing any time soon.
That was my concern. I don't care what the sets actually are, only how they're returned using `fromList`. The documentation doesn't mention ordering, but it seems like they are, which is fine.
fromList doesn't and can never have an ordering
because the set itself is not ordered
<@U48AEBJQ3> `Set` does have a special implementation of `==`: <https://github.com/elm-lang/core/blob/5.1.1/src/Native/Utils.js#L74>
foldl foldr and toList can
a set can be implemented in such as way so that when you traverse it, it is in a given order, but the concept of a set is not ordered
sets don't inherently possess order. but a set returned from `Set.fromList [Some List]` is ordered, no?
I'm trying to write a test in Ellie to check
you can't test that
as <@U23SA861Y> says, that's not a testable concept for Sets, you can only test the serialization functions
you can look at the javascript and see that it's implemented as a search tree
a red-black tree to be precise
Alright, I think I get, but one last question. Say I wanted to output the contents of a set, either as Html or a string or in the repl... would I have to convert it to a list first?
yes, most functions only accept lists of things, not sets
techinically you could call one of the folds directly
the repl calls toString on it to show it I think
in either case the traversal order is guaranteed to be sorted
This was the missing piece.
Elm is a typed language, so you have to provide data that are of the right type to the functions you use.
much can be understood just by looking at the types of the functions
I couldn't understand why you were saying I couldn't see whether the set was sorted, not considering that the implementation to view the contents of the set presents sorted elements
well, to view something it has to be serialized in some way
It's my python background I suppose. The way sets are implemented there, you can view them without ordering. I know why that wouldn't make sense for elm though. I just had to be sure.
so there is no concept of hidden in python
python sets are implemented using a hash table
however, hash tables are not suitable for pure functional languages, because they are not good at being persistent so they are not used in Elm
well, you could have a search tree on the hash and that would have similar behaviour with unordered traversal
yes, hash trees are sometimes useful
but either way, it all comes down to the api
python guarantees unordered traversal while elm guarantees sorted, the underlying implementation doesn't matter
unordered traversal sounds like an interesting "guarantee" :slightly_smiling_face:
I'm glad we had this talk. If nothing else, this slack has made me better at saying what I _actually mean_. Question parameters should be explicit, rather than implicit, or something like that...
yes, <http://mywiki.wooledge.org/XyProblem>
some situations require guaranteed randomness, scheduling comes to mind
yeah, but it's not guaranteed to be unordered, just to be random :slightly_smiling_face: nitpicking
anyway, not for this channel
<@U4872964V> I'm glad you're here!  You may not remember, but yesterday I asked you about formatting a money float to a string.
And you suggested using an int instead of a float
yes
so I thought I'd create a Pennies type, so I did, but I don't think it was necessary
mmm yes floats for money, bad
because I had named it "Pennies", I was thinking in terms of little copper discs
and you can't have a negative amount of little copper disks
so I tried to model that
<https://github.com/jordanwilcken/commerce-dotcom/blob/master/commerce_dotcom/elm/Pennies.elm>
most important stuff is right up top
probly I want to think in terms of cents and not pennies when dealing with money
and money amounts can be negative - happens all the time
but I did want to get your input (or anybody's) on what I done to model not-being-negative
yes, well, that looks ok, you don't need the Zero I suppose
no, I was thinking that too
and you should probably give some error, with `Result` if you try to make negative pennies
yeah, I was thinking that, but then I got stuck when I tried to use Pennies in my model
because my model wants pennies and not Results
<https://github.com/jordanwilcken/commerce-dotcom/blob/master/commerce_dotcom/elm/Financial.elm>
look at the FinancialData type
my model won't ever do something as silly as trying to make negative pennies
well in that case it's probably ok to have 0 then
yeah, that's where I ended up
trying to make it clear that if you do something silly like pass a negative int you end up with a MinimumZero that is Zero
I think I started modeling too quickly.  I recall somebody on this Slack talking about "the urge" to model things.
and I think that's what I did before questioning my assumption that pennies couldn't be negative
nothing wrong with modelling early, you can just refactor :slightly_smiling_face:
yes, that is one of the joys of Elm
Most of the time I model something complicated and then after a while almost every complexity goes away
but you do lose time.  Although it can lead you down interesting paths as this did.
when you start writing functions you realize that your model could be improved and then functions become easier, and everything is better
What <@U4872964V> for sure. I think it's a common misconception that because you're working in a "statically typed" language, that you can't change your types (they're "static", right?)..... but in fact, static types allow you to *change* your types more freely than in dynamic languages, since it will catch most of the places where changes are needed.
something that really steals time is generalizing too much though, like making a big pennies library when all you want to do is adding some ints :slightly_smiling_face:
`type Money = Money Int Int` is probably all you need to get started
yeah, it was "the urge"
hell even `(Int,Int)`
once I start modeling it's hard to stop
`type Money = Money Int` I use
The "what if's" just jump right into my mind
program what you need
just cents or whatever the lowest unit of money is
not what you will need
look at your domain and describe how it is, change it later if you need to
<@U23SA861Y> (Int, Int) would have been a good one
real simple that
why two ints?
lets you stay in dollars and cents, which I think is more natural
gives you a lot of problems when adding etc, too complex :slightly_smiling_face:
tha's true
but then you can write a slick function for that! #theUrge
yeah, if you just use a unit for the quatization thats good too
I've built a shopping cart for instance, it's very easy just to use ints for Money, no problem with strange rounding for discounts etc
yeah, you don't have to worry about negative where monies are concerned.  I believe that's what led me far afield.
well, as you say, they can often be negative. discounts are, for instance :slightly_smiling_face:
yep
anyway, it's great practice to write those data types so keep it up!
you fellows have day jobs?  I am just curious.  My secret identity is that of a work-a-day C# dev.  Native applications.  All of my Elming is purely for fun.
Yeah, I've just got slack open all day
yes, i work mostly with business systems but do some frontend work too
Right there with ya'll. But pushing it as hard as possible.
we are in the process of making some frontends for our system and I'm pushing Elm
I hope you win.  I hope Elm wins.
oh it will
If I ever do escape native applications I want Elm to be there waiting for me
yeah, well, Elm for native applications is not such a bad idea either
here here!
Elm :allthethings:
Is there some way of getting the message and status code behind `NetworkError`?
"means the user turned off their wifi, went in a cave, etc." :slightly_smiling_face:
status codes you can get from `BadStatus` error
Hehe, jupp…
Okay, so i would be able to get, to say, a 401 from `BadStatus`?
yes, the `Response` contains a `status` field with `code`and `message`:  <http://package.elm-lang.org/packages/elm-lang/http/latest/Http#Response>
Perfect! Thanks a lot!
